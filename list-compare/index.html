<!DOCTYPE html>
<html>
<head>
<style>
.list-container {
	text-align: left;
	display: inline-block;
}
.list-container header {
	font-weight: bold;
}
textarea {
	width: 300px;
	height: 100px;
	resize: none;
}
#compare-button {
	border: 1px solid black;
	padding: 5px;
	display: inline-block;
	cursor: pointer;
	margin-bottom: 25px;
}
#result {
	display: none;
}
</style>
</head>
<body>
<div id="content">
	<div id="sources">
		<div class="list-container">
			<header>List 1</header>
			<textarea id="textarea1">1,2,3,4,5,6</textarea>
		</div>
		<div class="list-container">
			<header>List 2</header>
			<textarea id="textarea2">4,5,6,7,8,9</textarea>
		</div>
	</div>
	<div id="compare-button" onclick="compareLists();">Compare</div>
	<div id="result">
		<div id="only">
			<div class="list-container">
				<header>These items are only in list 1</header>
				<textarea id="leftonly"></textarea>
			</div>
			<div class="list-container">
				<header>These items are only in list 2</header>
				<textarea id="rightonly"></textarea>
			</div>
		</div>
		<div id="both">
			<div class="list-container">
				<header>These items are in both lists</header>
				<textarea id="both-list"></textarea>
			</div>
		</div>
	</div>
</div>
</body>
<script>
var list1, list2, hash1, hash2;

function compareLists() {
	document.getElementById("result").style.display = "inline";

	list1 = document.getElementById("textarea1").value.split(",");
	list2 = document.getElementById("textarea2").value.split(",");

	var results1 = getUniqueAndDuplicateItems(list1, list2);
	var results2 = getUniqueAndDuplicateItems(list2, list1);

	document.getElementById("leftonly").value = results1['uniques'].join(",");
	document.getElementById("rightonly").value = results2['uniques'].join(",");
	document.getElementById("both-list").value = results1['duplicates'].join(",");
}
function getUniqueAndDuplicateItems(l1, l2) {
	var hash = getHashOfListItems(l2);
	
	var uniques = [];
	var duplicates = {};
	for(var a = 0; a < l1.length; a++) {
		if(l1[a] in hash) {
			duplicates[l1[a]] = "Both!";
		}
		else {
			uniques.push(l1[a]);
		}
	}
	return {
		'uniques': uniques,
		'duplicates': Object.keys(duplicates)
	};
}
function getHashOfListItems(list) {
	var toReturn = {};
	for(var a = 0; a < list.length; a++) {
		toReturn[list[a]] = list[a];
	}
	return toReturn;
}
</script>
</html>